<html>
  <head>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.5/css/select2.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.5/js/select2.min.js"></script>
    <style>
      html, body, select {
        font-family: sans-serif;
        font-size: 18px;
        line-height: 18px;

        padding-left: 10px;
        margin-left: 0;
      }

      body {
        /*width: 100%;*/ /* Uncomment for horizontal scrollbar (see README). */
        background-color: #F1EDC2;
      }
    </style>
  </head>
  <body>
    <div style="position: absolute; top: 600px; left: 200px">
      <!-- This should be maximized with the id selector -->
      <select id="test_thing_1" style="width: 200px">
        <option></option>
        <option>One fish</option>
        <option>Two fish</option>
        <option>Red fish</option>
        <option>Blue fish</option>
        <option>Black fish</option>
        <option>Blue fish</option>
        <option>Old fish</option>
        <option>New fish</option>
        <option>This one has a little star</option>
        <option>This one has a little car</option>
        <option>Say! What a lot of fish there are.</option>
      </select>
    </div>

    <div style="position: absolute; bottom: 100px; left: 450px">
      <!-- This should be maximized with the id selector -->
      <select id="test_thing_2" class="test-class" style="width: 200px">
        <option></option>
        <option>One fish</option>
        <option>Two fish</option>
        <option>Red fish</option>
        <option>Blue fish</option>
        <option>Black fish</option>
        <option>Blue fish</option>
        <option>Old fish</option>
        <option>New fish</option>
        <option>This one has a little star</option>
        <option>This one has a little car</option>
        <option>Say! What a lot of fish there are.</option>
      </select>
    </div>

    <div style="position: absolute; top: 300px; left: 700px">
      <!-- This should also be maximized with the id selector -->
      <select id="test_thing_3" class="test-class" style="width: 200px">
        <option></option>
        <option>One fish</option>
        <option>Two fish</option>
        <option>Red fish</option>
        <option>Blue fish</option>
        <option>Black fish</option>
        <option>Blue fish</option>
        <option>Old fish</option>
        <option>New fish</option>
        <option>This one has a little star</option>
        <option>This one has a little car</option>
        <option>Say! What a lot of fish there are.</option>
      </select>
    </div>

    <div style="position: absolute; top: 300px; left: 950px">
      <!-- This should _not_ be maximized -->
      <select class="nothing-of-import" style="width: 200px;">
        <option></option>
        <option>One fish</option>
        <option>Two fish</option>
        <option>Red fish</option>
        <option>Blue fish</option>
        <option>Black fish</option>
        <option>Blue fish</option>
        <option>Old fish</option>
        <option>New fish</option>
        <option>This one has a little star</option>
        <option>This one has a little car</option>
        <option>Say! What a lot of fish there are.</option>
      </select>
    </div>
    <script>
      // maximize-select2-height v1.0.3
      // (c) Panorama Education 2018
      // MIT License
      !function(t){"use strict"
      var e=t(window),n=t(document),o=function(o,i){return t.extend({cushion:i&&n.width()>e.width()?30:10},o)},i=function(n,i,c,r,s){var u,h,l
      return s?u=window.document.documentElement.clientHeight+e.scrollTop()-i.offset().top:(l=t("#select2-"+n+"-container").parent().parent().parent().offset().top,h=c.height()-i.height(),u=l-e.scrollTop()-h),u-o(r,s).cushion}
      t.fn.maximizeSelect2Height=function(e){return this.each(function(n,o){t(o).on("select2:open",function(){setTimeout(function(){var n=t("#select2-"+o.id+"-results"),c=n.parent(),r=c.parent(),s=r.hasClass("select2-dropdown--below"),u=i(o.id,n,r,e,s)
      c.css("max-height",u),n.css("max-height",u),t(document).trigger("scroll")})})})}}(jQuery)

      $(function () {
        $("#test_thing_1").select2({
          placeholder: "Choose a fish..."
        }).maximizeSelect2Height();

        $("#test_thing_2").select2({
          placeholder: "Choose a fish..."
        }).maximizeSelect2Height();

        $("#test_thing_3").select2({
          placeholder: "Choose a fish..."
        }).maximizeSelect2Height();

        $(".nothing-of-import").select2({
          placeholder: "Not maximized..."
        })
      });
    </script>
  </body>
</html>
